<!DOCTYPE html>
<html ng-app="products">

<head>
    <title>Products</title>
    <link rel="stylesheet" href="/styles/bootstrap.css">
    <script src="/scripts/angular.js"></script>
    <script src="products.js"></script>
    <script src="SampleService.js"></script>
    <script src="myFilter.js"></script>
</head>

<body class="container" ng-controller="ProductsCtrl as vm">
    <br/>
    <div class="panel panel-primary">
        <div class="panel-heading">
            Products List &nbsp; &nbsp; <span class="badge">{{filtered.length}}</span>
            <div class="pull-right">
                {{vm.currentTime}}
            </div>
        </div>
        <div class="panel-body">
            <div class="row">
                <div class="col-lg-3">
                    Color: 
                    <select ng-model="bgColor">
                        <option value="red">Red</option>
                        <option value="blue">Blue</option>
                        <option value="gray">Gray</option>
                    </select>
                </div>
                <div class="pull-right col-lg-3" style="margin-bottom: 10px;">
                    Search: <input type="text" ng-model="searchString.productName" ng-focus="true">
                </div>
            </div>
            <table class="table table-bordered">
                <thead>
                    <tr ng-class="bgColor">
                        <th align="center">#</th>
                        <th width="100">
                            <button ng-click="vm.toggleImages()" class="btn btn-primary">
                            {{vm.showImages ? 'Hide' : 'Show'}} Images
                        </button>
                        </th>
                        <th>Product Name</th>
                        <th>Description</th>
                        <th>Price</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="p in vm.products | orderBy:'-productName' | filter:searchString as filtered">
                        <td>{{$index + 1}}</td>
                        <td align="cenger">
                            <img src={{p.imageUrl}} ng-if="vm.showImages" width="50" height="50">
                        </td>
                        <td>{{p.productName}}</td>
                        <td>{{p.description}}</td>
                        <td>{{p.price | currency}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!--<div ng-repeat="p in vm.products">
        <product-directive title={{p.productName}}></product-directive>
    </div>-->
    <product-directive title="p name"></product-directive>
</body>

</html>

<style>
    .blue {
        background-color: blue;
        color: white;
    }

    .red {
        background-color: red;
        color: white;
    }

    .gray {
        background-color: lightgray;
        color: black;
    }
</style>